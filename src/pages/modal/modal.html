<!--
  Generated template for the ModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="light-red" >
      <ion-title>Detalles</ion-title>
      <ion-buttons end>
        <button ion-button (click)="closeModal(producto)">Close</button>
      </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <h1>{{producto.name}}</h1>
    <img src="{{producto.url}}" width="100%" height="auto" style="width: 70%; height: auto;">
    <div class="list card">
        <div class="item item-body">
          <div class="product-name"> {{producto.descripcion}}</div>
          <div class="product-precio">{{producto.precio}}$</div>
        </div>
    </div>
    <ion-list>
      <ion-item>
        <ion-label>Cantidad: </ion-label>
          <ion-select [(ngModel)]="cantidad">
            <ion-option value="1">1</ion-option>
            <ion-option value="2">2</ion-option>
            <ion-option value="3">3</ion-option>
            <ion-option value="4">4</ion-option>
          </ion-select>
    </ion-item>
  </ion-list>
  <button ion-button full icon-left color="light-red" (click)="addToCart(producto)">
      Agregar al carrito
  </button>

  <button ion-button full clear style="margin-top:20px;border:1px solid gray;" (click)="verComentarios()" >
    Comentarios de los usuarios
  </button> 

  <div *ngIf="mostrarComentarios" style="margin-top:20px;">

    <ion-list>
      <ion-item *ngFor="let comentario of comentarios | async" class="product-comment">

        <ion-card>
            <ion-card-header>
                <strong>{{comentario.usuario}}</strong>
                <span text-color="este-es">   -  {{comentario.fecha  | date:'medium'}}</span>                
            </ion-card-header>
            <ion-card-content>
                <p>{{comentario.comentario}}</p>    
                <ion-item *ngIf="comentario.usuario == usuario">                    
                  <button ion-button icon-left clear item-end color="danger" (click)="delete(producto,comentario)">
                    <ion-icon name="trash"></ion-icon>
                  </button>
                </ion-item>
            </ion-card-content>
        </ion-card>
        
      </ion-item>
    </ion-list>
    <ion-item>
      <ion-input type="text" [(ngModel)]="comentario.comentario" name="comment" placeholder="Escribe tu comentario"></ion-input>
      <button ion-button item-end (click)="save(producto)">Aceptar</button>
    </ion-item>

  </div>
</ion-content>

    
    
    