<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="light-red">
    <ion-title>Carrito</ion-title>
    <div class="topcorner">
      {{userData.username}}
    </div>
  </ion-navbar>

</ion-header>


<ion-content padding> 
        <div *ngIf="cartList.length == 0">
            <h1>No tenes productos en el carrito</h1>
            <br><br>
            <button ion-button full icon-left (click)="goHome()" color="light-red">
                <ion-icon name="home"></ion-icon>
                Seguir comprando
            </button>
        </div>  
        <div *ngIf="cartList.length > 0">
          <div >
              <p>Total=
                <strong>{{totalPrice | number }}$ </strong>
              </p>
          </div>
          <button ion-button (click)="checkout()" color="light-red">Check Out</button>
          
          <ion-list *ngFor="let item of cartList;let i = index ">
            <ion-card>
              <ion-item>
                <h1>{{item.producto.name}}</h1>
              </ion-item>
              <img src="{{item.producto.url}}">
              <ion-item>
                  <span item-left>{{item.quantity}} items X {{item.producto.precio}}$ =</span>
                  <span item-left>({{ item.quantity *  item.producto.precio  }}$)</span>
                  <button ion-button icon-left clear item-end color="danger" (click)="removeFromCart(i)">
                    <ion-icon name="trash"></ion-icon>
                  </button>
              </ion-item>
            </ion-card>
          </ion-list>
        </div>
</ion-content>
